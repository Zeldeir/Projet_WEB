<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="style_page1.css"/>
        <title id="title_chat">Chat</title>
    </head>
    <body>
        <div id = "page">
            <div class = "left">
                <div id="left_title">
                    <h2>DYSSEKAURDE</h2>
                </div>

                <div id = "left_salons">
                    <div id="Salons">
                        <h3>Salons</h3>
                    </div>
                </div>

                <div id = "left_user">
                    <h3>Utilisateurs</h3>
                </div>
            </div>

            <div class = "mid">
                <div id="mid_title">
                    <h2>Chat</h2>
                </div>

                <div id = "mid_chat">
                    <div id="box_chat">
                    </div>
                </div>

                <div id = "mid_box_bottom">
                    <div id = "mid_send_container">
                        <input type="text" placeholder="Envoyer un message" id = "mid_input">
                        <button type = "button" onclick = "displayMessage(document.getElementById('mid_input').value)" id = "mid_send">
                            <img src="../Images/send_white.png" alt="Send" title="Send" class="image" width=100% height=100%/>
                    </div>
                    
                    <div id = mid_room_container>
                        <input type=""text placeholder="Choisir un salon" id="mid_input_room">
                        <button type="button" onclick="sendMessage(document.getElementById('mid_input_room').value)" id="mid_send_room">
                            <img src="../Images/send_white.png" alt="Send" title="Send" class="image" width=100% height=100%/>
                    </div>
                </div>
            </div>

            <div class = "right">
                <h2>Connexion</h2>
            </div>

        </div>
        <script language="javascript">
            var socket = io.connect('http://localhost:8080');

            socket.on('connect', function(){
                console.log('connect');
                displayMessage('You connected with id : ${socket.id}');
            });

            const messageInput = document.getElementById('mid_input');
            const roomInput = document.getElementById('mid_input_room');

           function displayMessage(message)
           {
                const div = document.createElement('div');
                div.textContent = message;
                document.getElementById('box_chat').appendChild(div);
           } 

            function sendMessage(message)
            {
                alert(message);
            }

            

        </script>
    </body>

</html>